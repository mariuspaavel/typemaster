CREATE OR REPLACE FUNCTION addcover(
	aaccountid INTEGER,
	amediaid INTEGER
)
RETURNS void
LANGUAGE plpgsql
AS $$
DECLARE
	aposition INTEGER := 0;
BEGIN
	PERFORM mediaownershipcheck(aaccountid, amediaid);
	aposition := getmaxcoverpos(aaccountid)+1;
	INSERT INTO COVERS (accountid, mediaid, position) VALUES (aaccountid, amediaid, aposition);
END;
$$;
