CREATE OR REPLACE FUNCTION checkcoverownership(
	aaccountid INTEGER,
	acoverid INTEGER
)
RETURNS void
LANGUAGE plpgsql
AS $$
DECLARE 
	checkaccountid INTEGER;
BEGIN
	SELECT accountid INTO checkaccountid FROM covers WHERE coverid = acoverid; 
	IF NOT FOUND THEN
		RAISE 'Cover not found';
	END IF;
	IF checkaccountid <> aaccountid THEN
		RAISE 'Non matching account';
	END IF;
END;
$$;
