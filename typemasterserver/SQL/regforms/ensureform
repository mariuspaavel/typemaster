
CREATE OR REPLACE FUNCTION createform(
	asessionid INTEGER,
	aemail VARCHAR,
	apassword VARCHAR
)
RETURNS void
LANGUAGE plpgsql
AS $$
BEGIN
	IF NOT EXISTS(SELECT 1 FROM regforms WHERE sessionid=asessionid) THEN
		INSERT INTO regforms(sessionid) VALUES (asessionid); 
	END IF;
	UPDATE regforms SET sessionid=asessionid, email=aemail, apassword = apassword;
END;
$$
